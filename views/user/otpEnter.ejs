<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shoeme</title>
    <link rel="icon" href="images/icons/icon.ico" type="image/x-icon">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

  <link type="text/css" rel="stylesheet" href="/login/fonts/icomoon/style.css">

  <link type="text/css" rel="stylesheet" href="/login/css/owl.carousel.min.css">

  <!-- Bootstrap CSS -->
  <link type="text/css" rel="stylesheet" href="/login/css/bootstrap.min.css">

  <!-- Style -->
  <link type="text/css" rel="stylesheet" href="/login/css/style.css">

  <link type="text/css" rel="stylesheet" href="/login/css/bootstrap/bootstrap-reboot.css">

  <link type="text/css" rel="stylesheet" href="/login/css/bootstrap/bootstrap.css">

  <link type="text/css" rel="stylesheet" href="/login/fonts/icomoon/demo-files/demo.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/css/bootstrap.min.css">
  <style>
      body, html {
          height: 100%;
      }

      .otp-container {
          display: flex;
          justify-content: center;
          align-items: center;
          height: 100%;
      }

      .otp-form {
          max-width: 400px;
          width: 100%;
          padding: 20px;
          background-color: #fff;
          border-radius: 10px;
      }
  </style>
</head>
<body>
    <div class="otp-container">
        <div class="otp-form">
            <div class="text-center mb-4">
                <h3>Enter OTP</h3>
            </div>
            <form action="/otpEnter" method="post">
                <div class="form-group last mb-3">
                    <input type="number" class="form-control" id="otp" name="otp" placeholder="OTP">
                </div>
                <input type="submit" value="Submit" class="btn btn-block btn-dark">
                <p class="text-center my-4"><%= footer %></p>
            </form>
            <div class="text-center mt-5">
                <h6 id="resend_link" style="display: none;">Didn't get otp? <a class="mt-3" href="/resend_otp">Resend</a></h6>
            </div>
            <div id="countdown" class="text-primary text-center mt-5"></div>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/js/bootstrap.bundle.min.js"></script>

      <script>
        const countdownElem = document.getElementById("countdown");
        let countdown = localStorage.getItem("countdown") || 60; // start countdown at 60 seconds if no value is found in local storage
        countdownElem.textContent = `00:${countdown}`; // set initial countdown text
        const countdownInterval = setInterval(() => {
          countdown--; // decrement countdown by 1
          countdownElem.textContent = `00:${countdown}`; // update countdown text
          if (countdown === 0) {
            clearInterval(countdownInterval); // clear the countdown interval
            countdownElem.style.display = "none"; // hide the countdown element
            const resendLink = document.getElementById("resend_link");
            resendLink.style.display = "block";
            localStorage.removeItem("countdown"); // remove countdown value from local storage
          } else {
            localStorage.setItem("countdown", countdown); // store countdown value in local storage
          }
        }, 1000); // update countdown every second (1000ms)
      </script>
       <script src="/login/js/main.js"></script>

</body>
</html>